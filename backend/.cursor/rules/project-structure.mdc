---
alwaysApply: true
---

# Project Structure Guide

This is a Rust Actix Web application for trading analytics with the following structure:

## Core Architecture
- **Entry Point**: [main.rs](mdc:src/main.rs) - Main application setup and server configuration
- **Database**: [turso/client.rs](mdc:src/turso/client.rs) - Turso database client and connection management
- **Authentication**: [turso/auth.rs](mdc:src/turso/auth.rs) - Supabase JWT validation and user authentication
- **Configuration**: [turso/config.rs](mdc:src/turso/config.rs) - Environment configuration and Supabase settings

## Module Organization
- **Models**: [src/models/](mdc:src/models/) - Data models and database operations
  - [stock/stocks.rs](mdc:src/models/stock/stocks.rs) - Stock trading data models
  - [options/options.rs](mdc:src/models/options/options.rs) - Options trading data models
  - [images/image.rs](mdc:src/models/images/image.rs) - Image metadata models
  - [notes/trade_notes.rs](mdc:src/models/notes/trade_notes.rs) - Trade notes and documentation
- **Routes**: [src/routes/](mdc:src/routes/) - HTTP route handlers
  - [stocks.rs](mdc:src/routes/stocks.rs) - Stock trading endpoints
  - [options.rs](mdc:src/routes/options.rs) - Options trading endpoints
  - [images.rs](mdc:src/routes/images.rs) - Image upload and management
  - [trade_notes.rs](mdc:src/routes/trade_notes.rs) - Trade notes endpoints
- **Services**: [src/service/](mdc:src/service/) - External service integrations
  - [image_upload.rs](mdc:src/service/image_upload.rs) - Uploadcare integration for image uploads

## Key Patterns
- All routes use Supabase JWT authentication
- Database operations use both LibSQL
- Consistent API response format with `ApiResponse<T>` wrapper
- Comprehensive error handling with proper logging
- Modular design with clear separation of concerns